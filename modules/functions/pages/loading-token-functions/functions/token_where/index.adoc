= Token Functions in WHERE Clause

The token functions in this section can only be used in the `WHERE` clause of a `LOAD` statement.

NOTE: Besides the functions in the following table, all xref:functions/token/index.adoc[token functions for attribute expressions] can also be used in the `WHERE` clause, including xref:add-token-function.adoc[user-defined functions].

|===
| Function name | Output type | Description of function

| xref:loading-token-functions/functions/token_where/to_int.adoc[to_int( _main_string_ )]
| `INT`
| Converts _main_string_ to an integer value.

| xref:loading-token-functions/functions/token_where/to_float.adoc[to_float( _main_string_ )]
| `FLOAT`
| Converts _main_string_ to a float value.

| xref:loading-token-functions/functions/token_where/concat.adoc[concat( _string1, string2_ )]
| `STRING`
| Returns a string which is the concatenation of _string1_ and _string2_ .

| xref:loading-token-functions/functions/token_where/token_len.adoc[token_len( _main_string_ )]
| INT
| Returns the length of _main_string._

| xref:loading-token-functions/functions/token_where/gsql_is_not_empty.adoc[gsql_is_not_empty_string( _main_string_ )]
| `BOOL`
| Returns true if _main_string_ is empty after removing white space. Returns false otherwise.

| xref:loading-token-functions/functions/token_where/gsql_token_equal.adoc[gsql_token_equal( _string1, string2_ )]
| `BOOL`
| Returns true if _string1_ is exactly the same (case-sensitive) as _string2_ . Returns false otherwise.

| xref:loading-token-functions/functions/token_where/gsql_token_ignore_case_equal.adoc[gsql_token_ignore_case_equal( _string1, string2_ )]
| `BOOL`
| Returns true if _string1_ is exactly the same (case-insensitive) as _string2_.
Returns false otherwise.

| xref:loading-token-functions/functions/token_where/gsql_is_true.adoc[gsql_is_true( _main_string_ )]
| `BOOL`
| Returns true if _main_string_ is either "t" or "true" (case-insensitive). Returns false otherwise.

| xref:loading-token-functions/functions/token_where/gsql_is_false.adoc[gsql_is_false( _main_string_ )]
| `BOOL`
| Returns true if _main_string_ is either "f" or "false" (case-insensitive). Returns false otherwise.
|===here.adoc[]

== Examples

=== Single token function

These functions can be used as part of expression in the `WHERE` clause.
For example, the following statement only loads a record if the `score` column of a record is greater than 95.5:

[,gsql]
----
LOAD f TO VERTEX Person
  VALUES ($"name", $"score")
  WHERE to_float($"score") > 95.5
----

[#_token_functions_with_logical_operators]
=== Token functions with logical operators

You can use logical operators such as `AND`, `OR`, `NOT`,`IN`, `IS NUMERIC`, `IS EMPTY`, and `BETWEEN …​ AND` in the `WHERE` clause with token functions.

[,gsql]
----
CREATE LOADING JOB load_token FOR GRAPH Example_Graph {
    LOAD "data/data.csv"
    TO VERTEX vertex_1 VALUES($0, $1, $2, $3, $4, $5)
    WHERE gsql_token_equal($1,"DHB09")
      OR  token_len($2) > 15
      AND gsql_substr($2, 0, 3) == “DHB”
      OR  to_int($2)  IN (1,10)
      OR  to_float($5) BETWEEN 1 AND 100.5
      AND $4 == “12”
    USING SEPARATOR=",", HEADER="true", EOL="\n";
}
----


